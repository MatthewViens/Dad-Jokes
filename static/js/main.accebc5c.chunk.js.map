{"version":3,"sources":["Joke.js","Jokes.js","App.js","index.js"],"names":["Joke","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","upVote","bind","assertThisInitialized","downVote","e","handleVote","target","dataset","id","rating","react_default","a","createElement","className","data-id","onClick","style","borderColor","getColor","text","React","Component","Jokes","state","jokes","JSON","parse","window","localStorage","getItem","loading","seenJokes","Set","map","joke","handleClick","length","getJokes","numJokes","axios","get","headers","Accept","jokeRes","newJoke","data","has","push","uuid","setState","prev","concat","toConsumableArray","setItem","stringify","_this2","alert","_context","t0","delta","_this3","votedJoke","find","_this4","href","rel","class","src_Joke_0","key","defaultProps","App","src_Jokes_0","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.accebc5c.chunk.js","sourcesContent":["import React from 'react';\nimport './Joke.css';\n\nclass Joke extends React.Component {\n  constructor(props){\n    super(props);\n    \n    this.upVote = this.upVote.bind(this);\n    this.downVote = this.downVote.bind(this);\n  }\n  \n  upVote(e) {\n    this.props.handleVote(e.target.dataset.id, 1);\n  }\n  \n  downVote(e) {\n    this.props.handleVote(e.target.dataset.id, -1);\n  }\n  \n  getColor() {\n    if(this.props.rating >= 10) {\n      return \"#4CAF50\";\n    } else if(this.props.rating >= 8) {\n      return \"#8BC34A\";\n    } else if(this.props.rating >= 6) {\n      return \"#CDDC39\";\n    } else if(this.props.rating === 5) {\n      return \"#FFEB3B\";\n    } else if(this.props.rating >= 4) {\n      return \"#FFC107\";\n    } else if(this.props.rating >= 2) {\n      return \"#FF9800\";\n    } else if(this.props.rating >= 0) {\n      return \"#F44336\";\n    }\n  }\n  \n  render(){\n    return (\n      <div className=\"joke\">\n        <div className=\"joke-rating\">\n          <i className=\"fas fa-arrow-up\" data-id={this.props.id} onClick={this.upVote}></i>\n          <div className=\"joke-score\" style={{borderColor: this.getColor()}}>\n            <p>{this.props.rating}</p>\n          </div>\n          <i className=\"fas fa-arrow-down\" data-id={this.props.id} onClick={this.downVote}></i>\n        </div>\n        <div className=\"joke-text\">\n          {this.props.text}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Joke;","import React from 'react';\nimport axios from 'axios';\nimport uuid from 'uuid/v4';\nimport Joke from './Joke';\nimport './Jokes.css';\n\nclass Jokes extends React.Component {\n  static defaultProps = {\n    numJokes: 10\n  }\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      jokes: JSON.parse(window.localStorage.getItem(\"jokes\") || \"[]\" ),\n      loading: false\n    }\n    \n    this.seenJokes = new Set(this.state.jokes.map(joke => joke.text));\n    \n    this.handleVote = this.handleVote.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n  \n  componentDidMount() {\n    if(this.state.jokes.length === 0) this.getJokes();\n  }\n  \n  async getJokes() {\n    try {\n      let jokes = [];\n      while(jokes.length < this.props.numJokes) {\n        let jokeRes = await axios.get('https://icanhazdadjoke.com/', \n          { headers: {Accept: 'application/json'}});\n        let newJoke = jokeRes.data.joke;\n        if(!this.seenJokes.has(newJoke)) {\n          jokes.push({id: uuid(), text: newJoke, rating: 5});\n        }\n      }\n      this.setState((prev => ({\n        jokes: [...prev.jokes, ... jokes],\n        loading: false\n      })), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes)));\n    } catch(e) {\n      alert(e)\n      this.setState({loading: false})\n    }\n  }\n  \n  handleClick() {\n    this.setState({loading: true}, this.getJokes);\n  }\n  \n  handleVote(id, delta) {\n    const votedJoke = this.state.jokes.find(joke => joke.id === id);\n    if(votedJoke.rating < 10 && delta === 1) {\n      votedJoke.rating += 1;\n    } else if(votedJoke.rating > 0 && delta === -1) {\n      votedJoke.rating -= 1;\n    }\n      this.setState((prev => ({\n        jokes: prev.jokes.map(joke => (\n          joke.id === id ? joke = votedJoke : joke\n        ))\n      })), () => window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes)))\n  }\n  \n  render() {\n    if(this.state.loading) {\n      return (\n        <div className=\"spinner\">\n          <i className=\"far fa-8x fa-laugh fa-spin\"></i>\n          <h1>Loading...</h1>\n        </div>\n      )\n    }\n    \n    // Sort jokes by rating\n    // let jokes = this.state.jokes.sort((a, b) => b.rating - a.rating);\n    \n    let jokes = this.state.jokes;\n    \n    return (\n      <div className=\"jokes-wrapper\">\n        <div className=\"jokes-new\">\n        <a href=\"https://github.com/MatthewViens/Dad-Jokes\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <i class=\"fab fa-github\"></i>\n        </a>\n        <h1>Dad Jokes</h1>\n        <div className=\"brand\">\n          <p>ðŸ˜„</p>\n        </div>\n        <button onClick={this.handleClick}>New Jokes</button>\n        </div>\n        <div className=\"jokes-container\">\n          {jokes.map(joke => (\n            <Joke \n              key={joke.id} \n              id={joke.id}\n              text={joke.text} \n              rating={joke.rating}\n              handleVote={this.handleVote}\n            />))}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Jokes;","import React from 'react';\nimport Jokes from './Jokes';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Jokes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}